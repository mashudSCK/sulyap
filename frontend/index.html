<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sulyap - Fleeting anonymous conversations. Connect, chat, and let go.">
    <title>Sulyap - Anonymous Fleeting Conversations</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Landing Screen -->
    <div id="landing-screen" class="screen active">
        <div class="container">
            <div class="logo">
                <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="5" y="15" width="25" height="30" rx="4" stroke="#6366F1" stroke-width="3" fill="none"/>
                    <rect x="30" y="15" width="25" height="30" rx="4" stroke="#8B5CF6" stroke-width="3" fill="none"/>
                    <circle cx="15" cy="25" r="2" fill="#6366F1"/>
                    <circle cx="40" cy="25" r="2" fill="#8B5CF6"/>
                </svg>
            </div>
            <h1 class="title">Sulyap</h1>
            <p class="subtitle">Fleeting conversations with strangers. A brief glance, then it's gone. No registration, no traces.</p>
            
            <!-- Online Users Counter -->
            <div class="online-counter">
                <span class="online-dot"></span>
                <span id="online-count">0</span> <span class="online-text">users online</span>
            </div>
            
            <!-- Temporary Username Input -->
            <div class="username-container">
                <input 
                    type="text" 
                    id="username-input" 
                    class="username-input" 
                    placeholder="Enter a name (optional)"
                    maxlength="20"
                >
                <p class="username-hint">‚ú® Or stay anonymous as "Stranger"</p>
            </div>
            
            <button id="start-btn" class="btn btn-primary">
                <span>Start Chatting</span>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M7 4L13 10L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            
            <div class="features">
                <div class="feature">
                    <span class="feature-icon">üîí</span>
                    <span>100% Anonymous</span>
                </div>
                <div class="feature">
                    <span class="feature-icon">‚ö°</span>
                    <span>Instant Connection</span>
                </div>
                <div class="feature">
                    <span class="feature-icon">üóëÔ∏è</span>
                    <span>No Data Stored</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Waiting Screen -->
    <div id="waiting-screen" class="screen">
        <div class="container">
            <div class="status-icon">
                <div class="spinner"></div>
            </div>
            <h2 class="status-title">Finding a chat partner...</h2>
            <p class="status-message">This usually takes just a few seconds</p>
            <button id="cancel-waiting-btn" class="btn btn-secondary">Cancel</button>
        </div>
    </div>

    <!-- Chat Screen -->
    <div id="chat-screen" class="screen">
        <div class="chat-container">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="header-content">
                    <div class="chat-names">
                        <div class="status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">Connected</span>
                        </div>
                        <div class="name-display">
                            <span id="your-name-text" class="chatting-with-text">You are chatting with Stranger</span>
                            <span id="partner-name-text" style="display: none;"></span>
                        </div>
                    </div>
                    <button id="end-chat-btn" class="btn-icon" title="End Chat">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Messages Area -->
            <div id="messages-container" class="messages-container">
                <div class="system-message">
                    <p>üéâ You're now connected! Start the conversation.</p>
                </div>
            </div>
            
            <!-- Typing Indicator -->
            <div id="typing-indicator" class="typing-indicator" style="display: none;">
                <span class="typing-text">Partner is typing</span>
                <span class="typing-dots">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </span>
            </div>

            <!-- Input Area -->
            <div class="input-container">
                <form id="message-form" class="message-form">
                    <input 
                        type="text" 
                        id="message-input" 
                        class="message-input" 
                        placeholder="Type your message..."
                        autocomplete="off"
                        maxlength="500"
                    >
                    <button type="submit" class="btn-send" title="Send message">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Disconnected Screen -->
    <div id="disconnected-screen" class="screen">
        <div class="container">
            <div class="status-icon">
                <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                    <circle cx="40" cy="40" r="35" stroke="#EF4444" stroke-width="3" fill="none"/>
                    <path d="M28 28L52 52M52 28L28 52" stroke="#EF4444" stroke-width="3" stroke-linecap="round"/>
                </svg>
            </div>
            <h2 class="status-title">Chat Ended</h2>
            <p class="status-message" id="disconnect-message">Your partner left the chat.</p>
            <button id="new-chat-btn" class="btn btn-primary">Start New Chat</button>
        </div>
    </div>

    <!-- Exit Confirmation Modal -->
    <div id="exit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-character">
                <div class="sad-face">
                    <div class="eyes">
                        <span class="eye">‚Ä¢ÃÅ</span>
                        <span class="eye">‚Ä¢ÃÄ</span>
                    </div>
                    <div class="mouth">‚åì</div>
                </div>
                <p class="modal-message">Aalis ka na?</p>
            </div>
            <h3 class="modal-title">End this Sulyap?</h3>
            <p class="modal-subtitle">Your conversation will disappear forever...</p>
            <div class="modal-buttons">
                <button id="modal-stay-btn" class="btn btn-secondary">Stay</button>
                <button id="modal-end-btn" class="btn btn-danger">End Chat</button>
            </div>
        </div>
    </div>

    <!-- Socket.IO Client Library -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- App JavaScript -->
    <script src="app.js"></script>
</body>
</html>
